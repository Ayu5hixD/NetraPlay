<!DOCTYPE html>
<html lang="en" class="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NetraPlay - Movies & Live TV</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
    rel="stylesheet">

  <!-- Custom Tailwind Configuration & Styles -->
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            'sans': ['Inter', 'sans-serif'],
          },
          colors: {
            primary: {
              '50': '#f0f9ff',
              '100': '#e0f2fe',
              '200': '#bae6fd',
              '300': '#7dd3fc',
              '400': '#38bdf8',
              '500': '#0ea5e9',
              '600': '#0284c7',
              '700': '#0369a1',
              '800': '#075985',
              '900': '#0c4a6e',
              '950': '#082f49',
            },
          },
          animation: {
            'fade-in': 'fadeIn 0.5s ease-in-out',
            'slide-in-up': 'slideInUp 0.5s ease-out',
            'scale-in': 'scaleIn 0.3s ease-out',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: 0 },
              '100%': { opacity: 1 },
            },
            slideInUp: {
              '0%': { transform: 'translateY(20px)', opacity: 0 },
              '100%': { transform: 'translateY(0)', opacity: 1 },
            },
            scaleIn: {
              '0%': { transform: 'scale(0.95)', opacity: 0 },
              '100%': { transform: 'scale(1)', opacity: 1 },
            }
          }
        }
      }
    }
  </script>

  <style>
    /* Base styles */
    body {
      font-family: 'Inter', sans-serif;
      background-color: #0B1120;
      /* Deep navy blue */
      color: #E0E0E0;
    }

    /* Gradient text */
    .text-gradient {
      background: linear-gradient(to right, #38bdf8, #a78bfa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* Page container logic */
    [data-page] {
      display: none;
      /* Hide all pages by default */
      animation: fadeIn 0.5s ease-in-out;
    }

    [data-page].active {
      display: block;
      /* Show only the active page */
    }

    /* Active nav link styling */
    .nav-link.active {
      color: #38bdf8;
      border-bottom: 2px solid #38bdf8;
    }

    /* Custom scrollbar (optional but nice UI) */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #111827;
    }

    ::-webkit-scrollbar-thumb {
      background-color: #374151;
      border-radius: 20px;
    }

    /* Glassmorphism effect for cards */
    .glass-card {
      background: rgba(23, 31, 51, 0.6);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 1rem;
      /* 16px */
    }

    /* Hide element while animating */
    .animate-hidden {
      opacity: 0;
    }

    /* Modal styles */
    #warning-modal {
      display: none;
      /* Hidden by default */
      position: fixed;
      z-index: 100;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.7);
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease;
    }
  </style>
</head>

<body class="antialiased">

  <header class="fixed top-0 left-0 right-0 z-50 bg-opacity-80 backdrop-blur-lg border-b border-gray-800"
    style="background-color: rgba(11, 17, 32, 0.8);">
    <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-20">
        <!-- Logo -->
        <a href="#home" data-navlink="home" class="flex-shrink-0 flex items-center">
          <i class="fa-solid fa-play-circle text-primary-400 text-3xl mr-2"></i>
          <span class="font-black text-2xl text-white">NetraPlay</span>
        </a>

        <!-- Desktop Navigation -->
        <div class="hidden md:flex md:items-center md:space-x-8">
          <a href="#home" data-navlink="home"
            class="nav-link text-gray-300 hover:text-white transition duration-300 font-medium pb-1">Home</a>
          <a href="#updates" data-navlink="updates"
            class="nav-link text-gray-300 hover:text-white transition duration-300 font-medium pb-1">App Updates</a>
        </div>

        <!-- Auth Buttons -->
        <div class="hidden md:flex items-center space-x-4">
          <a href="#" class="download-app-link bg-primary-500 text-white font-semibold px-5 py-2 rounded-lg hover:bg-primary-600
            transition duration-300 shadow-lg shadow-primary-500/30">
            Download App
          </a>
        </div>

        <!-- Mobile Menu Button -->
        <div class="md:hidden">
          <button id="mobile-menu-btn" class="text-gray-300 hover:text-white focus:outline-none">
            <i class="fa-solid fa-bars text-2xl"></i>
          </button>
        </div>
      </div>
    </nav>

    <!-- Mobile Menu (Dropdown) -->
    <div id="mobile-menu" class="md:hidden hidden bg-gray-900 border-t border-gray-800">
      <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
        <a href="#home" data-navlink="home"
          class="nav-link-mobile text-gray-300 hover:bg-gray-800 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Home</a>
        <a href="#updates" data-navlink="updates"
          class="nav-link-mobile text-gray-300 hover:bg-gray-800 hover:text-white block px-3 py-2 rounded-md text-base font-medium">App
          Updates</a>
        <div class="border-t border-gray-700 pt-4 pb-2 space-y-2">
          <a href="#" class="download-app-link w-full text-center bg-primary-500 text-white font-semibold px-3 py-2 rounded-lg
            hover:bg-primary-600 transition duration-300 shadow-lg shadow-primary-500/30">
            Download App
          </a>
        </div>
      </div>
    </div>
  </header>

  <!-- ===== MAIN CONTENT ===== -->
  <main class="pt-20">

    <!-- ===== PAGE: HOME ===== -->
    <section data-page="home" id="home">
      <!-- Hero Section -->
      <div class="relative pt-24 pb-32 md:pt-32 md:pb-40 overflow-hidden">
        <!-- Background Gradient -->
        <div class="absolute inset-x-0 top-0 h-1/2 -z-10"
          style="background-image: radial-gradient(circle, rgba(2,132,199, 0.3) 0%, rgba(11,17,32,0) 60%);"></div>

        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center animate-slide-in-up">
          <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold text-white leading-tight tracking-tighter mb-6">
            All Your Entertainment.
            <br class="hidden md:block">
            <span class="text-gradient">One Universe.</span>
          </h1>
          <p class="max-w-2xl mx-auto text-lg md:text-xl text-gray-300 mb-10">
            Stream thousands of blockbuster movies, binge-worthy TV shows, and over 100+ live TV channels. All in one
            place.
          </p>
          <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
            <a href="#" class="download-app-link w-full sm:w-auto bg-primary-500 text-white font-semibold px-8 py-4 rounded-lg
    hover:bg-primary-600 transition duration-300 shadow-lg shadow-primary-500/30 text-lg">
              Download the App
            </a>

            <a href="http://telegram.dog/netraplay" class="w-full sm:w-auto border-2 border-primary-500 text-primary-500 font-semibold px-8 py-4 rounded-lg
    hover:bg-primary-500 hover:text-white transition duration-300 shadow-lg shadow-primary-500/20 text-lg">
              Join TG Channel
            </a>
          </div>
        </div>
      </div>

      <!-- Featured Screenshots -->
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 -mt-20 z-10 relative">
        <h2 class="text-2xl font-bold text-white mb-4 ml-2">App Screenshots</h2>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 md:gap-6">
          <div
            class="aspect-[9/16] rounded-lg overflow-hidden transition duration-300 transform hover:scale-105 hover:shadow-2xl animate-fade-in"
            style="animation-delay: 100ms;">
            <img src="./assets/np1.png" alt="App Home Screen" class="h-full contain">
          </div>
          <div
            class="aspect-[9/16] rounded-lg overflow-hidden transition duration-300 transform hover:scale-105 hover:shadow-2xl animate-fade-in"
            style="animation-delay: 200ms;">
            <img src="./assets/np2.png" alt="Live TV Guide" class="h-full contain">
          </div>
          <div
            class="aspect-[9/16] rounded-lg overflow-hidden transition duration-300 transform hover:scale-105 hover:shadow-2xl animate-fade-in"
            style="animation-delay: 300ms;">
            <img src="./assets/np3.png" alt="Movie Details Page" class="h-full contain">
          </div>
          <div
            class="aspect-[9/16] rounded-lg overflow-hidden transition duration-300 transform hover:scale-105 hover:shadow-2xl animate-fade-in"
            style="animation-delay: 400ms;">
            <img src="./assets/np4.png" alt="Search Results" class="h-full contain">
          </div>
          <div
            class="aspect-[9/16] rounded-lg overflow-hidden transition duration-300 transform hover:scale-105 hover:shadow-2xl animate-fade-in"
            style="animation-delay: 500ms;">
            <img src="./assets/np5.png" alt="User Profile" class="h-full contain">
          </div>
          <div
            class="aspect-[9/16] rounded-lg overflow-hidden transition duration-300 transform hover:scale-105 hover:shadow-2xl animate-fade-in"
            style="animation-delay: 600ms;">
            <img src="./assets/np6.png" alt="Settings" class="h-full contain">
          </div>
        </div>
      </div>

      <!-- Features Section -->
      <div class="py-24 sm:py-32">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-12 text-center">
            <div class="flex flex-col items-center animate-slide-in-up animate-hidden" style="animation-delay: 100ms;">
              <div
                class="flex items-center justify-center w-16 h-16 bg-primary-500/10 rounded-full mb-4 ring-2 ring-primary-500/30">
                <i class="fa-solid fa-tv text-primary-400 text-3xl"></i>
              </div>
              <h3 class="text-xl font-bold text-white mb-2">Live TV Channels</h3>
              <p class="text-gray-400">Stream 100+ channels of live sports, news, and entertainment. No cable box
                required.</p>
            </div>
            <div class="flex flex-col items-center animate-slide-in-up animate-hidden" style="animation-delay: 200ms;">
              <div
                class="flex items-center justify-center w-16 h-16 bg-primary-500/10 rounded-full mb-4 ring-2 ring-primary-500/30">
                <i class="fa-solid fa-film text-primary-400 text-3xl"></i>
              </div>
              <h3 class="text-xl font-bold text-white mb-2">On-Demand Library</h3>
              <p class="text-gray-400">Get instant access to thousands of movies and full TV series, updated weekly.</p>
            </div>
            <div class="flex flex-col items-center animate-slide-in-up animate-hidden" style="animation-delay: 300ms;">
              <div
                class="flex items-center justify-center w-16 h-16 bg-primary-500/10 rounded-full mb-4 ring-2 ring-primary-500/30">
                <i class="fa-solid fa-mobile-screen-button text-primary-400 text-3xl"></i>
              </div>
              <h3 class="text-xl font-bold text-white mb-2">Watch Anywhere</h3>
              <p class="text-gray-400">Available on your favorite devices. Watch at home or on the go.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== PAGE: ABOUT US ===== -->
    <section data-page="about" id="about">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">
        <div class="max-w-4xl mx-auto animate-slide-in-up">
          <h1 class="text-4xl md:text-5xl font-extrabold text-white mb-4 text-center">About <span
              class="text-gradient">NetraPlay</span></h1>
          <p class="text-xl text-gray-300 mb-12 text-center">
            Our mission is to bring all your favorite entertainment into one simple, beautiful, and affordable
            universe.
          </p>

          <div class="glass-card p-8 md:p-12 space-y-8">
            <div>
              <h2 class="text-2xl font-bold text-white mb-3">Our Story</h2>
              <p class="text-gray-300 leading-relaxed">
                Founded in 2025, NetraPlay started as a simple idea: "Why is streaming so complicated?" We were tired
                of jumping between different apps just to find something to watch. We dreamed of a single platform that
                combined the best of live TV with a massive on-demand library.
                <br><br>
                Today, NetraPlay is proud to serve millions of users, offering a seamless viewing experience across
                all their devices. We're a passionate team of engineers, designers, and movie-lovers dedicated to
                building the future of television.
              </p>
            </div>
            <div>
              <h2 class="text-2xl font-bold text-white mb-3">Our Content Philosophy</h2>
              <p class="text-gray-300 leading-relaxed">
                To provide a rich and diverse library, NetraPlay aggregates metadata (like posters, titles, and
                descriptions)
                for movies and series, as well as stream links for live TV, from publicly available internet sources
                (such as TMDB, and various public IPTV repositories).
                <br><br>
                <strong>We do not host any content on our own servers.</strong> Our app functions as a sophisticated,
                user-friendly player and aggregator that organizes this public data, making it easy for you to find and
                watch. We do not scrape or access content directly from private, paid OTT platforms.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== PAGE: PRIVACY POLICY ===== -->
    <section data-page="privacy" id="privacy">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">
        <div class="max-w-4xl mx-auto animate-slide-in-up">
          <h1 class="text-4xl md:text-5xl font-extrabold text-white mb-4 text-center">Privacy Policy</h1>
          <p class="text-center text-gray-400 mb-10">Last updated: October 22, 2025</p>

          <div
            class="glass-card p-8 md:p-12 space-y-8 text-gray-300 leading-relaxed prose prose-invert max-w-none prose-h2:text-white prose-h2:font-bold prose-a:text-primary-400">
            <p>Welcome to NetraPlay. We are committed to protecting your privacy. This Privacy Policy explains how we
              collect, use, disclose, and safeguard your information when you use our service.</p>

            <h2>1. Information We Collect</h2>
            <p>We may collect information about you in a variety of ways. The information we may collect on the Service
              includes:</p>
            <ul>
              <li><strong>Personal Data:</strong> Personally identifiable information, such as your email address, which
                you may voluntarily provide to us when you create an account.</li>
              <li><strong>Technical Data:</strong> Information our servers automatically collect when you access the
                app,
                such as your IP address (for region-locking content), device model, operating system version, app
                version, and crash logs.</li>
              <li><strong>Usage Data:</strong> We may collect anonymized data on how the app is used, such as which
                features are popular, to help us improve the user experience. We do not track your specific viewing
                history for advertising purposes.</li>
            </ul>

            <h2>2. How We Use Your Information</h2>
            <p>We use the information we collect to:</p>
            <ul>
              <li>Create and manage your account.</li>
              <li>Provide, operate, and maintain our service.</li>
              <li>Fetch content relevant to your region (using your IP address).</li>
              <li>Diagnose and fix app crashes and bugs.</li>
              <li>Improve our service and analyze usage trends through anonymized data.</li>
              <li>Communicate with you (e.g., for customer support or app updates).</li>
            </ul>

            <h2>3. Sharing Your Information</h2>
            <p><strong>We do not sell your personal information.</strong> We do not share your personal viewing history
              with third-party advertisers. We may share information in the following situations:</p>
            <ul>
              <li><strong>With Service Providers:</strong> We may share information with third-party vendors who help us
                operate our service (e.g., server hosting, crash analytics).</li>
              <li><strong>By Law:</strong> We may disclose information if required to do so by law or in response to
                valid requests by public authorities.</li>
              <li><strong>Anonymized Data:</strong> We may share anonymized, aggregated usage statistics (e.g., "Movie X
                was played 10,000 times") with content partners or the public.</li>
            </ul>

            <h2>4. Third-Party Content</h2>
            <p>Our service aggregates and provides access to content from publicly available third-party sources. We do
              not host or control this content. This Privacy Policy does not apply to the practices of these third-party
              sources. We are not responsible for the legality, accuracy, or privacy practices of these external
              sources.</p>

            D
            <h2>5. DMCA & Copyright</h2>
            <p>NetraPlay respects intellectual property rights. As we do not host any content, we act as a player and
              aggregator. If you are a copyright holder and believe content accessible through our app infringes your
              rights, please contact us at <a href="mailto:netraplay@gmail.com">netraplay@gmail.com</a> with a valid
              DMCA takedown notice. We will
              promptly investigate and remove the link to the infringing metadata or stream from our platform.</p>

            <h2>6. Your Data Rights</h2>
            <p>You have the right to access, update, or delete your personal information (such as your account email) at
              any time through your account settings or by contacting us directly.</p>

            <h2>7. Contact Us</h2>
            <p>If you have any questions about this Privacy Policy, please contact us at <a
                href="mailto:netraplay@gmail.com">netraplay@gmail.com</a>.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== PAGE: APP UPDATES ===== -->
    <section data-page="updates" id="updates">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">
        <div class="max-w-4xl mx-auto animate-slide-in-up">
          <h1 class="text-4xl md:text-5xl font-extrabold text-white mb-10 text-center">App Updates & Changelog</h1>

          <!-- Timeline Structure -->
          <div id="timeline-container" class="space-y-12">
            <div id="timeline-loading" class="text-center">
              <i class="fa-solid fa-spinner fa-spin text-primary-400 text-3xl"></i>
              <p class="text-gray-400 mt-2">Loading updates...</p>
            </div>
          </div>

        </div>
      </div>
    </section>

  </main>

  <!-- ===== FOOTER ===== -->
  <footer class="border-t border-gray-800" style="background-color: #0B1120;">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="flex items-center mb-6 md:mb-0">
          <i class="fa-solid fa-play-circle text-primary-400 text-2xl mr-2"></i>
          <span class="font-black text-xl text-white">NetraPlay</span>
        </div>

        <div class="flex space-x-6 mb-6 md:mb-0">
          <a href="#about" data-navlink="about" class="text-gray-400 hover:text-white transition">About Us</a>
          <a href="#privacy" data-navlink="privacy" class="text-gray-400 hover:text-white transition">Privacy Policy</a>
        </div>

        <div class="flex space-x-6">
          <a href="#" class="text-gray-500 hover:text-white transition" aria-label="Twitter"><i
              class="fa-brands fa-twitter text-xl"></i></a>
          <a href="#" class="text-gray-500 hover:text-white transition" aria-label="Facebook"><i
              class="fa-brands fa-facebook text-xl"></i></a>
          <a href="#" class="text-gray-500 hover:text-white transition" aria-label="Instagram"><i
              class="fa-brands fa-instagram text-xl"></i></a>
        </div>
      </div>
      <div class="text-center text-gray-500 text-sm mt-8 pt-8 border-t border-gray-800">
        &copy; 2025 NetraPlay. All rights reserved.
      </div>
    </div>
  </footer>

  <!-- ===== WARNING MODAL ===== -->
  <div id="warning-modal">
    <div class="glass-card max-w-md w-full m-4 p-6 md:p-8 animate-scale-in">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-bold text-yellow-400"><i class="fa-solid fa-triangle-exclamation mr-2"></i> Warning
        </h2>
        <button id="modal-close-btn" class="text-gray-500 hover:text-white transition">&times;</button>
      </div>
      <p id="modal-text" class="text-gray-300 mb-6">
        <!-- Dynamic text will go here -->
      </p>
      <div class="flex justify-end gap-4">
        <button id="modal-cancel-btn"
          class="bg-gray-600 text-white font-semibold px-5 py-2 rounded-lg hover:bg-gray-700 transition">
          Cancel
        </button>
        <a id="modal-confirm-download-btn" href="#"
          class="bg-red-600 text-white font-semibold px-5 py-2 rounded-lg hover:bg-red-700 transition">
          Download Anyway
        </a>
      </div>
    </div>
  </div>


  <!-- ===== JAVASCRIPT ===== -->
  <script>
    let appUpdatesData = [];
    async function fetchAppUpdates() {
      const dataUrl = "https://ayu5hixd.github.io/NetraPlay/data/netraplay_app_updates.json";
      const loadingEl = document.getElementById('timeline-loading');

      try {
        const response = await fetch(dataUrl, { cache: "no-cache" }); // No-cache to get latest
        if (!response.ok) {
          throw new Error(`Network response was not ok: ${response.statusText}`);
        }
        const data = await response.json();
        appUpdatesData = data; // Assign fetched data

        // Now that data is fetched, update links and render timeline
        updateDownloadLinks();
        renderAppUpdates();

      } catch (error) {
        console.error("Failed to fetch app updates:", error);
        if (loadingEl) {
          loadingEl.innerHTML = `
            <div class="flex flex-col items-center">
              <i class="fa-solid fa-circle-exclamation text-red-400 text-3xl"></i>
              <p class="text-gray-400 mt-2">Failed to load app updates. Please try again later.</p>
            </div>
          `;
        }
      }
    }


    function updateDownloadLinks() {
      if (appUpdatesData.length === 0) return; // Don't run if data isn't loaded

      const latestUrl = appUpdatesData[0].downloadUrl[0].universal;
      if (!latestUrl) {
        console.error("Latest 'universal' download link not found in data.");
        return;
      }

      const downloadButtons = document.querySelectorAll('.download-app-link');
      downloadButtons.forEach(button => {
        button.href = latestUrl;
      });
    }

    // --- 3. FUNCTION TO RENDER CHANGELOG ---
    function getChangelogItemHtml(item) {
      let colorClass = "";
      switch (item.type) {
        case "NEW": colorClass = "text-green-400"; break;
        case "IMPROVEMENT": colorClass = "text-blue-400"; break;
        case "FIX": colorClass = "text-yellow-400"; break;
        case "MAJOR": colorClass = "text-purple-400"; break;
        default: colorClass = "text-gray-400";
      }
      return `<p><span class="${colorClass} font-semibold">[${item.type}]</span> ${item.text}</p>`;
    }

    function renderAppUpdates() {
      const container = document.getElementById('timeline-container');
      const loadingEl = document.getElementById('timeline-loading');
      if (!container || appUpdatesData.length === 0) return; // Safety check

      let allUpdatesHtml = "";

      appUpdatesData.forEach((update, index) => {
        const changelogHtml = update.changelog.map(getChangelogItemHtml).join('');
        let downloadButtonHtml = '<div class="flex flex-wrap gap-2">';
        const links = update.downloadUrl[0]; // Get the object with arch links

        if (index === 0) {
          Object.keys(links).forEach(arch => {
            const url = links[arch];
            const isUniversal = arch === 'universal';
            const colorClass = isUniversal
              ? 'bg-primary-500 hover:bg-primary-600 shadow-lg shadow-primary-500/30'
              : 'bg-gray-600 hover:bg-gray-700';

            downloadButtonHtml += `
              <a href="${url}" class="inline-block ${colorClass} text-white font-semibold px-4 py-2 text-sm rounded-lg transition duration-300">
                <i class="fa-solid fa-download mr-1"></i> ${arch}
              </a>`;
          });
        } else {
          Object.keys(links).forEach(arch => {
            const url = links[arch];
            downloadButtonHtml += `
              <button data-download-url="${url}" data-version="${update.version}" data-arch="${arch}" class="download-old-version-btn inline-block bg-gray-600 hover:bg-gray-700 text-white font-semibold px-4 py-2 text-sm rounded-lg transition duration-300">
                <i class="fa-solid fa-download mr-1"></i> ${arch}
              </button>`;
          });
        }

        downloadButtonHtml += '</div>';

        allUpdatesHtml += `
          <div class="relative pl-8 sm:pl-12 animate-slide-in-up animate-hidden" style="animation-delay: ${index * 100}ms;">
            <div class="absolute left-0 top-1 w-px h-full bg-gray-700 sm:left-4"></div>
            <div class="absolute left-[-9px] top-0 sm:left-0">
              <div class="w-6 h-6 ${update.color} rounded-full flex items-center justify-center ring-8 ${update.ring}">
                <i class="fa-solid ${update.icon} text-xs text-white"></i>
              </div>
            </div>
            <div class="glass-card p-6">
              <p class="text-sm ${update.color === 'bg-primary-500' ? 'text-primary-300' : 'text-gray-400'} font-medium mb-1">${update.date}</p>
              <h2 class="text-2xl font-bold text-white mb-3">${update.version}</h2>
              <div class="space-y-2 text-gray-300">
                ${changelogHtml}
              </div>
              <div class="mt-6 pt-4 border-t border-gray-700/50">
                ${downloadButtonHtml}
              </div>
            </div>
          </div>
        `;
      });

      // Hide loading spinner and show content
      if (loadingEl) loadingEl.style.display = 'none';
      container.innerHTML = allUpdatesHtml;

      // Trigger animation for the newly added elements
      container.querySelectorAll('.animate-hidden').forEach(el => {
        el.classList.remove('animate-hidden');
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      const navLinks = document.querySelectorAll('[data-navlink]');
      const mobileNavLinks = document.querySelectorAll('.nav-link-mobile');
      const desktopNavLinks = document.querySelectorAll('.nav-link');
      const pages = document.querySelectorAll('[data-page]');
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      const modal = document.getElementById('warning-modal');
      const modalCloseBtn = document.getElementById('modal-close-btn');
      const modalCancelBtn = document.getElementById('modal-cancel-btn');
      const modalConfirmBtn = document.getElementById('modal-confirm-download-btn');
      const modalText = document.getElementById('modal-text');
      const timelineContainer = document.getElementById('timeline-container');

      // --- Initial Data Renders ---
      fetchAppUpdates(); // This will fetch data AND call update/render functions on success

      // --- Mobile Menu Toggle ---
      mobileMenuBtn.addEventListener('click', () => {
        const isHidden = mobileMenu.classList.contains('hidden');
        if (isHidden) {
          mobileMenu.classList.remove('hidden');
          mobileMenuBtn.innerHTML = '<i class="fa-solid fa-xmark text-2xl"></i>';
        } else {
          mobileMenu.classList.add('hidden');
          mobileMenuBtn.innerHTML = '<i class="fa-solid fa-bars text-2xl"></i>';
        }
      });

      // --- Page Navigation Function ---
      function showPage(pageId) {
        // Hide all pages
        pages.forEach(page => {
          page.classList.remove('active');
        });

        // Show the target page
        const targetPage = document.getElementById(pageId);
        if (targetPage) {
          targetPage.classList.add('active');
          // Trigger animations on newly active elements
          targetPage.querySelectorAll('.animate-hidden').forEach(el => {
            el.classList.remove('animate-hidden');
          });

        } else {
          // Fallback to home if page not found
          document.getElementById('home').classList.add('active');
          document.getElementById('home').querySelectorAll('.animate-hidden').forEach(el => {
            el.classList.remove('animate-hidden');
          });
          pageId = 'home';
        }

        // Update active state in desktop nav
        desktopNavLinks.forEach(link => {
          if (link.getAttribute('data-navlink') === pageId) {
            link.classList.add('active');
          } else {
            link.classList.remove('active');
          }
        });

        // Update active state in mobile nav (slight style difference)
        mobileNavLinks.forEach(link => {
          if (link.getAttribute('data-navlink') === pageId) {
            link.classList.add('bg-gray-800', 'text-white');
          } else {
            link.classList.remove('bg-gray-800', 'text-white');
          }
        });

        // Close mobile menu on navigation
        mobileMenu.classList.add('hidden');
        mobileMenuBtn.innerHTML = '<i class="fa-solid fa-bars text-2xl"></i>';

        // Scroll to top of page
        window.scrollTo(0, 0);
      }

      // --- Event Listeners for all Nav Links ---
      navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const pageId = link.getAttribute('data-navlink');
          window.location.hash = pageId;
        });
      });

      // --- Listen for hash changes to navigate ---
      window.addEventListener('hashchange', () => {
        let pageId = window.location.hash.substring(1);
        if (!pageId || !document.getElementById(pageId)) {
          pageId = 'home';
        }
        showPage(pageId);
      });

      // --- Initial Page Load ---
      let initialPage = window.location.hash.substring(1);
      if (!initialPage || !document.getElementById(initialPage)) {
        initialPage = 'home';
      }
      showPage(initialPage);

      if (!window.location.hash) {
        window.location.hash = '#home';
      }

      // Listen for clicks on old download buttons (using event delegation)
      timelineContainer.addEventListener('click', function (e) {
        // Use .closest() to catch clicks on icon or text inside the button
        const clickedButton = e.target.closest('.download-old-version-btn');

        if (clickedButton) {
          const url = clickedButton.getAttribute('data-download-url');
          const version = clickedButton.getAttribute('data-version');
          const arch = clickedButton.getAttribute('data-arch'); // Get architecture

          // Populate modal
          // --- MODIFIED: Include arch in modal text ---
          modalText.innerHTML = `You are about to download an older version (<strong>${version} - ${arch}</strong>). We recommend using the latest version for the best features and security.`;
          modalConfirmBtn.href = url;

          // Show modal
          modal.style.display = 'flex';
        }
      });

      // Function to hide modal
      function hideModal() {
        modal.style.display = 'none';
        modalConfirmBtn.href = "#"; // Clear href
      }

      // Add listeners to close buttons
      modalCloseBtn.addEventListener('click', hideModal);
      modalCancelBtn.addEventListener('click', hideModal);

      // Also close modal if clicking outside the content
      modal.addEventListener('click', function (e) {
        if (e.target === modal) {
          hideModal();
        }
      });

    });
  </script>
</body>

</html>
